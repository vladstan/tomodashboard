/

/trips
/trips/:slug
/trips/:slug/:slug

/agents
/agents/:slug

/dashboard
/dashboard/chat/xxx
/dashboard/trips

/webviews/add-stripe?step=1
/webviews/add-stripe?step=2
/webviews/voyage/:id
/webviews/voyage/:id/pay


slug
----
europe
spain
in-palma-de-mallorca
adventure

Session
Memory
Message
User
Customer
Agent
Voyage


User
----
id: '123'
type: 'login|facebook|...'
email: 'a@a.com'
password: '123'
facebookId: '123'
facebookPageId: '123'
isUser: false
isAgent: true
customerId: '123'
agentId: '123'

Customer
--------
name: {
  first
  last
}
location: {
  current: 'London, UK'
  past: [
    'Glasgow, UK',
    'Manchester, UK'
  ]
}
preferences: {
  persona: 'family-traveller'
  homeAirport: 'OTP'
  flights: {
    airlines: ['KLM']
    types: ['low-cost']
    seat: 'window|aisle'
    cabinType: 'first|business|economy-plus|economy'
  }
  accommodation: {
    hotels: ['Airbnb']
    dislikedHotels: ['Hilton']
    types: ['luxury', 'low-cost']
    stars: {
      min: 3
      max: 5
    }
    budget: {
      min: 100
      max: 300
    }
  }
}
stripe: {
  customerId
  cardLastDigits
}


Agent
-----
name: {
  first
  last
}
slug: 'first-last'
profilePictureUrl: 'http://asdc.jpg'
description: 'funny etc expert'
paymentDetails: {}


Voyage
------
id: '123'
customerUserId: '123'
agentUserId: '123'
tripId: ?'123'
status: 'draft|accepted|declined|paid'
payment: {
  transactions: [
    {payment from the user}
    {commission from the hotel}
  ]
  total: '$'
}
invoice: {
  items: [
    { type: 'flight', name: 'Flight Turkish Airlines OTP->LTN', price: '4999' }
    { type: 'accommodation', name: 'Hilton Standard Room', price: '4999' }
    { type: 'fee', name: 'Service Fee', price: '4999' }
    { type: 'fee', name: 'Concierge', price: '4999' }
    { type: 'discount', name: 'Service Fee Discount*', price: '-4999' }
  ]
  total: '$520'
}
tickets: [
  {}
]
from: 'Bucharest, Romania'
to: 'Palma de Mallorca'


Trip
----
id: '1235trefdc'
agentUserId: '534ewdsc'
location: {
  continent: 'Europe'
  country: 'Spain'
  city: 'Palma de Mallorca'
}
category: 'adventure'
tags: ['scuba', 'holiday', 'family']
title: 'Super Holiday in Palma'
slug: 'super-holiday-in-palma'
summary: 'Your best holiday every. You're welcome'
description: 'Your best holiday every. You're welcome. Your best holiday every. etc'
previewUrl: 'http://etc.img.jpg'
gallery: [
  'http://etc.img.jpg'
  'http://etc.img.jpg'
]
duration: '7 days'
price: {
  value: '$200'
  type: 'starting_at'
}
map: 'image || geoCoordinatesForGoogleMaps'
